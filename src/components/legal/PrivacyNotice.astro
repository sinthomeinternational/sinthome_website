---
/**
 * Privacy Notice Component
 * GDPR/CCPA compliant privacy disclosure for form submissions
 */
interface Props {
  formType: 'contact' | 'newsletter' | 'volunteer' | 'donation';
  className?: string;
}

const { formType, className = '' } = Astro.props;

const privacyTexts = {
  contact: {
    title: 'Contact Form Privacy Notice',
    purpose: 'to respond to your inquiry and provide requested information',
    retention: '2 years from last contact'
  },
  newsletter: {
    title: 'Newsletter Privacy Notice',
    purpose: 'to send you updates about our organization and events',
    retention: 'until you unsubscribe or 3 years of inactivity'
  },
  volunteer: {
    title: 'Volunteer Application Privacy Notice',
    purpose: 'to process your volunteer application and coordinate activities',
    retention: '3 years from last volunteer activity'
  },
  donation: {
    title: 'Donation Interest Privacy Notice',
    purpose: 'to process your donation and provide tax documentation',
    retention: '7 years for tax compliance purposes'
  }
};

const text = privacyTexts[formType];
---

<div class={`privacy-notice bg-zinc-900/50 border border-zinc-700 rounded-lg p-4 mb-6 ${className}`}>
  <h3 class="text-lg font-semibold text-zinc-100 mb-3 flex items-center">
    <svg class="w-5 h-5 mr-2 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
    </svg>
    {text.title}
  </h3>

  <div class="text-sm text-zinc-300 space-y-2">
    <p>
      <strong>Data Collection:</strong> We collect only the information you provide in this form {text.purpose}.
    </p>

    <p>
      <strong>Data Usage:</strong> Your information will be used solely for the stated purpose and will not be shared with third parties without your consent, except as required by law.
    </p>

    <p>
      <strong>Data Retention:</strong> We retain your information for {text.retention}.
    </p>

    <p>
      <strong>Your Rights:</strong> You have the right to access, correct, or delete your personal information. Contact us at
      <a href="mailto:privacy@sinthome.org" class="text-blue-400 hover:text-blue-300 underline">
        privacy@sinthome.org
      </a> to exercise these rights.
    </p>

    <p class="text-xs text-zinc-400 mt-4">
      By submitting this form, you consent to the collection and processing of your personal information as described above.
      This notice complies with GDPR, CCPA, and other applicable privacy regulations.
    </p>
  </div>
</div>

<style>
  .privacy-notice {
    border-left: 4px solid theme('colors.blue.500');
  }

  @media (prefers-reduced-motion: reduce) {
    .privacy-notice {
      transition: none;
    }
  }
</style>